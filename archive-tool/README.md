# Archive Tool (GTNH Server)

Инструмент для архивирования папок со **старыми серверными сборками модпака GT New Horizons (GTNH)**.

Скрипт используется как разовая или редкая административная операция — в ситуациях, когда на сервере накопились неиспользуемые версии сборок и требуется освободить дисковое пространство путём их упаковки в архивы.

Инструмент решает **единственную задачу — архивирование**. Сценарии восстановления (распаковки) архивов не входят в его функциональность и выполняются стандартными средствами операционной системы.

---

## Содержание

- [Назначение проекта](#назначение-проекта)
- [Контекст использования](#контекст-использования)
- [Что делает скрипт](#что-делает-скрипт)
- [Структура проекта](#структура-проекта)
- [Используемые скрипты](#используемые-скрипты)
- [Требования](#требования)
- [Использование](#использование)
- [Ограничения и замечания](#ограничения-и-замечания)

---

## Назначение проекта

При длительной эксплуатации сервера GTNH в файловой системе накапливаются директории со старыми версиями серверной сборки:

- предыдущие версии модпака;
- конфигурации сервера до обновлений;
- сохранённые состояния перед изменениями или экспериментами.

Хранение таких сборок в распакованном виде со временем начинает занимать значительные объёмы дискового пространства. При этом полное удаление старых версий не всегда является приемлемым решением — иногда требуется возможность отката или анализа прошлых состояний сервера.

Данный инструмент предназначен для **упаковки старых серверных сборок в архивы** с последующим освобождением места на диске без потери данных.

---

## Контекст использования

Типовой сценарий применения инструмента выглядит следующим образом:

- сервер обновляется до новой версии GTNH;
- предыдущая версия больше не используется для запуска;
- директория со старой сборкой архивируется и переносится в отдельное хранилище архивов.

Таким образом сервер сохраняет историю сборок, не удерживая их в активной рабочей структуре каталогов.

---

## Что делает скрипт

Скрипт решает одну конкретную задачу — архивирование заранее определённых директорий серверных сборок.

В процессе работы:

1. Обрабатываются указанные администратором каталоги.
2. Каждая директория упаковывается в архив.
3. Архив сохраняется в заданное место хранения.
4. Исходные директории могут быть удалены **после проверки корректности архивов**.

Все пути, условия и поведение скрипта предполагается **настраивать вручную** под конкретную серверную инфраструктуру.

---

## Структура проекта

```
archive-tool/
├── archive_modpack.py   # актуальная реализация на Python
├── atr.sh               # устаревшая Bash-версия (сохранена для истории)
└── README.md
```

---

## Используемые скрипты

### `archive_modpack.py`

Основной и поддерживаемый инструмент проекта:

- реализован на Python;
- используется для архивирования серверных сборок GTNH;
- предполагает явное указание обрабатываемых директорий и путей хранения архивов;
- предназначен для ручного применения администратором сервера.

### `atr.sh`

Ранняя версия скрипта:

- написана на Bash;
- отражает первоначальный подход к решению задачи;
- сохранена в репозитории в ознакомительных целях;
- не рекомендуется к использованию в новых установках.

---

## Требования

- Linux‑сервер;
- Python 3.9 или новее;
- права доступа к директориям серверных сборок и месту хранения архивов.

---

## Использование

1. Перейдите в каталог `archive-tool`.
2. Откройте файл `archive_modpack.py` и укажите:
   - пути к директориям со старыми серверными сборками;
   - директорию для хранения архивов.
3. Запустите скрипт:

```bash
python3 archive_modpack.py
```

После выполнения скрипта рекомендуется убедиться в корректности созданных архивов перед удалением исходных директорий, если такое поведение используется.

---

## Ограничения и замечания

- Скрипт не определяет автоматически, какие сборки считаются устаревшими — это решение принимает администратор сервера.
- Инструмент не выполняет функции полноценного резервного копирования активного сервера.
- Перед применением в рабочей среде рекомендуется тестировать скрипт на копии данных.

---

* * *

### Как можно отблагодарить:
* Оформить удобную для вас подписку на [Boosty.to](https://boosty.to/lliammah/ref)  
* Разово поддержать через [DonationAlerts](https://www.donationalerts.com/r/lliammah)  

